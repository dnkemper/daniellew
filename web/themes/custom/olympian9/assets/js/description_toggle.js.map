{"version":3,"file":"description_toggle.js","names":["Drupal","behaviors","formDescriptionToggle","attach","context","querySelectorAll","forEach","elem","dataset","formDescriptionToggleAttached","a11yLabel","Math","floor","random","setAttribute","closest","description","addEventListener","event","preventDefault","stopPropagation","currentTarget","parentElement","tagName","open","focus","index","setStatus","classList","contains","toggle"],"sources":["../../js/description_toggle.js"],"sourcesContent":["((Drupal) => {\n  Drupal.behaviors.formDescriptionToggle = {\n    attach: (context) => {\n      context\n        .querySelectorAll('.help-icon__description-toggle')\n        .forEach((elem, index) => {\n          if (elem.dataset.formDescriptionToggleAttached) {\n            return;\n          }\n          elem.dataset.formDescriptionToggleAttached = true;\n          const a11yLabel = 'help-icon-label--' + Math.floor(Math.random() * 10000);\n          elem.setAttribute('id', a11yLabel);\n          elem.setAttribute('aria-expanded', 'false');\n          elem.setAttribute('aria-controls', 'target');\n          elem\n            .closest('.help-icon__description-container')\n            .querySelectorAll(\n              '.claro-details__description, .fieldset__description, .form-item__description',\n            )\n            .forEach((description) => {\n              description.setAttribute('aria-labelledby', a11yLabel);\n            });\n\n          elem.addEventListener('click', (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n\n            // Open details element on toggle.\n            if (event.currentTarget.parentElement.tagName === 'SUMMARY'\n              && event.currentTarget.parentElement.parentElement.open === false) {\n              event.currentTarget.parentElement.parentElement.open = true;\n            }\n\n            event.currentTarget.focus(); // firefox button focus issue\n            event.currentTarget\n              .closest('.help-icon__description-container')\n              .querySelectorAll(\n                '.claro-details__description, .fieldset__description, .form-item__description',\n              )\n              .forEach((description, index) => {\n                if (index > 1) {\n                  return;\n                }\n                const setStatus = description.classList.contains('visually-hidden');\n                event.currentTarget.setAttribute('aria-expanded', setStatus);\n                description.classList.toggle('visually-hidden');\n                description.setAttribute('aria-hidden', !setStatus);\n              });\n          });\n        });\n    }\n  };\n})(Drupal);\n"],"mappings":"aAAA,CAAC,SAACA,CAAM,CAAK,CACXA,CAAM,CAACC,SAAS,CAACC,qBAAqB,CAAG,CACvCC,MAAM,CAAE,QAAAA,CAACC,CAAO,CAAK,CACnBA,CAAO,CACJC,gBAAgB,CAAC,gCAAgC,CAAC,CAClDC,OAAO,CAAC,SAACC,CAAI,CAAY,CACxB,IAAIA,CAAI,CAACC,OAAO,CAACC,6BAA6B,EAG9CF,CAAI,CAACC,OAAO,CAACC,6BAA6B,GAAO,CACjD,GAAM,CAAAC,CAAS,CAAG,mBAAmB,CAAGC,IAAI,CAACC,KAAK,CAAiB,GAAK,CAArBD,IAAI,CAACE,MAAM,CAAC,CAAS,CAAC,CACzEN,CAAI,CAACO,YAAY,CAAC,IAAI,CAAEJ,CAAS,CAAC,CAClCH,CAAI,CAACO,YAAY,CAAC,eAAe,CAAE,OAAO,CAAC,CAC3CP,CAAI,CAACO,YAAY,CAAC,eAAe,CAAE,QAAQ,CAAC,CAC5CP,CAAI,CACDQ,OAAO,CAAC,mCAAmC,CAAC,CAC5CV,gBAAgB,CACf,8EACF,CAAC,CACAC,OAAO,CAAC,SAACU,CAAW,CAAK,CACxBA,CAAW,CAACF,YAAY,CAAC,iBAAiB,CAAEJ,CAAS,CACvD,CAAC,CAAC,CAEJH,CAAI,CAACU,gBAAgB,CAAC,OAAO,CAAE,SAACC,CAAK,CAAK,CACxCA,CAAK,CAACC,cAAc,CAAC,CAAC,CACtBD,CAAK,CAACE,eAAe,CAAC,CAAC,CAG2B,SAAS,GAAvDF,CAAK,CAACG,aAAa,CAACC,aAAa,CAACC,OAAqB,EACtD,KAAAL,CAAK,CAACG,aAAa,CAACC,aAAa,CAACA,aAAa,CAACE,IAAc,GACjEN,CAAK,CAACG,aAAa,CAACC,aAAa,CAACA,aAAa,CAACE,IAAI,GAAO,EAG7DN,CAAK,CAACG,aAAa,CAACI,KAAK,CAAC,CAAC,CAC3BP,CAAK,CAACG,aAAa,CAChBN,OAAO,CAAC,mCAAmC,CAAC,CAC5CV,gBAAgB,CACf,8EACF,CAAC,CACAC,OAAO,CAAC,SAACU,CAAW,CAAEU,CAAK,CAAK,CAC/B,KAAY,CAAC,CAATA,CAAS,GAGb,GAAM,CAAAC,CAAS,CAAGX,CAAW,CAACY,SAAS,CAACC,QAAQ,CAAC,iBAAiB,CAAC,CACnEX,CAAK,CAACG,aAAa,CAACP,YAAY,CAAC,eAAe,CAAEa,CAAS,CAAC,CAC5DX,CAAW,CAACY,SAAS,CAACE,MAAM,CAAC,iBAAiB,CAAC,CAC/Cd,CAAW,CAACF,YAAY,CAAC,aAAa,CAAE,CAACa,CAAS,CAAC,CACrD,CAAC,CACL,CAAC,CAAC,CACJ,CAAC,CACL,CACF,CACF,CAAC,EAAE3B,MAAM,CAAC","ignoreList":[]}