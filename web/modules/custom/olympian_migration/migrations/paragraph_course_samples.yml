id: paragraph_course_samples
migration_group: olympian_migration
migration_tags:
  - artsci
  - Content
  - 'Paragraphs Content'
label: 'Paragraphs (Dark Slideshow)'
idMap:
  plugin: smart_sql
source:
  plugin: d7_paragraphs_item
  bundle: course_samples
process:
  field_title: field_title
  field_description: field_description
  field_links_p:
    -
      plugin: sub_process
      source: field_links_p
      process:
        temporary_ids:
          plugin: migration_lookup
          migration: paragraph_links
          source: value
        target_id:
          plugin: extract
          source: '@temporary_ids'
          index:
            - 0
        target_revision_id:
          plugin: extract
          source: '@temporary_ids'
          index:
            - 1
  field_metatag:
    -
      plugin: d7_metatag_entities
      source: pseudo_metatag_entities
destination:
  plugin: 'entity_reference_revisions:paragraph'
  default_bundle: course_samples
migration_dependencies:
  required:
    - paragraph_links  
  optional: {}
