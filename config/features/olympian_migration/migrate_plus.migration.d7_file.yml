uuid: e7fb2905-dd91-4714-b01e-6e7009ed95a2
status: true
dependencies: {  }
id: d7_file
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - 'Drupal 7'
  - Content
  - Files
idMap:
  plugin: smart_sql
migration_group: olympian_d7
label: 'Public files'
source:
  plugin: files
  scheme: public
  constants:
    dest_uri_prefix: ''
    source_base_path: ''
    source_uri_prefix: dynamic
process:
  uid:
    plugin: migration_lookup
    migration: d7_user
    source: uid
    no_stub: true
  filename: filename
  source_uri:
    -
      plugin: concat
      source:
        - constants/source_uri_prefix
        - filepath
  dest_uri:
    plugin: concat
    source:
      - constants/dest_uri_prefix
      - uri
  uri:
    plugin: file_copy
    source:
      - '@source_uri'
      - '@dest_uri'
    no_stub: true
    file_exists: use existing
  field_media_directory:
    plugin: migration_lookup
    source: field_media_directory
    migration: olympian_d7_taxonomy_term_media_folders
destination:
  plugin: 'entity:file'
